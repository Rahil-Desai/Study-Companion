<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Companion - Account</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <div class="container">
            <a href="index.html" class="logo">Study Companion</a>
            <div>
                <a href="dashboard.html">Dashboard</a>
                <a href="account.html">Account</a>
                <button onclick="logout()" class="btn btn-danger">Logout</button>
            </div>
        </div>
    </nav>
    <div class="container">
        <h1>Account</h1>
        <div class="card">
            <h2>Account Information</h2>
            <p id="userEmail"></p>
            <div id="errorMessage" class="error-message" role="alert"></div>
            <form id="updateProfileForm">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="newPassword">New Password:</label>
                    <input type="password" id="newPassword" name="newPassword">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm New Password:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword">
                </div>
                <button type="submit" class="btn btn-primary">Update Profile</button>
            </form>
            <div class="form-group">
                <label for="darkModeToggle" class="switch">
                    <input type="checkbox" id="darkModeToggle" aria-label="Toggle dark mode">
                    <span class="slider"></span>
                </label>
                <span>Dark Mode</span>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        const userEmail = document.getElementById('userEmail');
        const darkModeToggle = document.getElementById('darkModeToggle');

        function loadUserInfo() {
            const email = checkAuth();
            if (email) {
                userEmail.textContent = `Email: ${email}`;
            }
        }

        darkModeToggle.addEventListener('change', toggleDarkMode);

        // Load user info and dark mode preference on page load
        loadUserInfo();
        darkModeToggle.checked = document.body.classList.contains('dark-mode');
    </script>
</body>
</html>